/**
 * @license
 * Copyright 2021 The Go Authors. All rights reserved.
 * Use of this source code is governed by a BSD-style
 * license that can be found in the LICENSE file.
 */
export class ClipboardController {
  constructor(el) {
    this.el = el;
    this._data = el.dataset["toCopy"] ?? el.parentElement?.querySelector("input")?.value ?? el.innerText;
    el.addEventListener("click", (e) => this.handleCopyClick(e));
  }
  handleCopyClick(e) {
    e.preventDefault();
    const TOOLTIP_SHOW_DURATION_MS = 1e3;
    if (!navigator.clipboard) {
      this.showTooltipText("Unable to copy", TOOLTIP_SHOW_DURATION_MS);
      return;
    }
    navigator.clipboard.writeText(this._data).then(() => {
      this.showTooltipText("Copied!", TOOLTIP_SHOW_DURATION_MS);
    }).catch(() => {
      this.showTooltipText("Unable to copy", TOOLTIP_SHOW_DURATION_MS);
    });
  }
  showTooltipText(text, durationMs) {
    this.el.setAttribute("data-tooltip", text);
    setTimeout(() => this.el.setAttribute("data-tooltip", ""), durationMs);
  }
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiY2xpcGJvYXJkLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBUaGUgR28gQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgQlNELXN0eWxlXG4gKiBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUuXG4gKi9cblxuLyoqXG4gKiBUaGlzIGNsYXNzIGRlY29yYXRlcyBhbiBlbGVtZW50IHRvIGNvcHkgYXJiaXRyYXJ5IGRhdGEgYXR0YWNoZWQgdmlhIGEgZGF0YS1cbiAqIGF0dHJpYnV0ZSB0byB0aGUgY2xpcGJvYXJkLlxuICovXG5leHBvcnQgY2xhc3MgQ2xpcGJvYXJkQ29udHJvbGxlciB7XG4gIC8qKlxuICAgKiBUaGUgZGF0YSB0byBiZSBjb3BpZWQgdG8gdGhlIGNsaXBib2FyZC5cbiAgICovXG4gIHByaXZhdGUgX2RhdGE6IHN0cmluZztcblxuICAvKipcbiAgICogQHBhcmFtIGVsIFRoZSBlbGVtZW50IHRoYXQgd2lsbCB0cmlnZ2VyIGNvcHlpbmcgdGV4dCB0byB0aGUgY2xpcGJvYXJkLiBUaGUgdGV4dCBpc1xuICAgKiBleHBlY3RlZCB0byBiZSB3aXRoaW4gaXRzIGRhdGEtdG8tY29weSBhdHRyaWJ1dGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBIVE1MQnV0dG9uRWxlbWVudCkge1xuICAgIHRoaXMuX2RhdGEgPVxuICAgICAgZWwuZGF0YXNldFsndG9Db3B5J10gPz8gZWwucGFyZW50RWxlbWVudD8ucXVlcnlTZWxlY3RvcignaW5wdXQnKT8udmFsdWUgPz8gZWwuaW5uZXJUZXh0O1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB0aGlzLmhhbmRsZUNvcHlDbGljayhlKSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB3aGVuIHRoZSBwcmltYXJ5IGVsZW1lbnQgaXMgY2xpY2tlZC5cbiAgICovXG4gIGhhbmRsZUNvcHlDbGljayhlOiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IFRPT0xUSVBfU0hPV19EVVJBVElPTl9NUyA9IDEwMDA7XG5cbiAgICAvLyBUaGlzIEFQSSBpcyBub3QgYXZhaWxhYmxlIG9uIGlPUy5cbiAgICBpZiAoIW5hdmlnYXRvci5jbGlwYm9hcmQpIHtcbiAgICAgIHRoaXMuc2hvd1Rvb2x0aXBUZXh0KCdVbmFibGUgdG8gY29weScsIFRPT0xUSVBfU0hPV19EVVJBVElPTl9NUyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5hdmlnYXRvci5jbGlwYm9hcmRcbiAgICAgIC53cml0ZVRleHQodGhpcy5fZGF0YSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5zaG93VG9vbHRpcFRleHQoJ0NvcGllZCEnLCBUT09MVElQX1NIT1dfRFVSQVRJT05fTVMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvd1Rvb2x0aXBUZXh0KCdVbmFibGUgdG8gY29weScsIFRPT0xUSVBfU0hPV19EVVJBVElPTl9NUyk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93cyB0aGUgZ2l2ZW4gdGV4dCBpbiBhIHRvb2x0aXAgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lLCBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzaG93VG9vbHRpcFRleHQodGV4dDogc3RyaW5nLCBkdXJhdGlvbk1zOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwJywgdGV4dCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnZGF0YS10b29sdGlwJywgJycpLCBkdXJhdGlvbk1zKTtcbiAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBV08saUNBQTBCO0FBQUEsRUFVL0IsWUFBb0IsSUFBdUI7QUFBdkI7QUFDbEIsU0FBSyxRQUNILEdBQUcsUUFBUSxhQUFhLEdBQUcsZUFBZSxjQUFjLFVBQVUsU0FBUyxHQUFHO0FBQ2hGLE9BQUcsaUJBQWlCLFNBQVMsT0FBSyxLQUFLLGdCQUFnQjtBQUFBO0FBQUEsRUFNekQsZ0JBQWdCLEdBQXFCO0FBQ25DLE1BQUU7QUFDRixVQUFNLDJCQUEyQjtBQUdqQyxRQUFJLENBQUMsVUFBVSxXQUFXO0FBQ3hCLFdBQUssZ0JBQWdCLGtCQUFrQjtBQUN2QztBQUFBO0FBRUYsY0FBVSxVQUNQLFVBQVUsS0FBSyxPQUNmLEtBQUssTUFBTTtBQUNWLFdBQUssZ0JBQWdCLFdBQVc7QUFBQSxPQUVqQyxNQUFNLE1BQU07QUFDWCxXQUFLLGdCQUFnQixrQkFBa0I7QUFBQTtBQUFBO0FBQUEsRUFPN0MsZ0JBQWdCLE1BQWMsWUFBMEI7QUFDdEQsU0FBSyxHQUFHLGFBQWEsZ0JBQWdCO0FBQ3JDLGVBQVcsTUFBTSxLQUFLLEdBQUcsYUFBYSxnQkFBZ0IsS0FBSztBQUFBO0FBQUE7IiwKICAibmFtZXMiOiBbXQp9Cg==
